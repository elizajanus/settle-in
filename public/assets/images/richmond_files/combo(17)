YUI.add("flickr-products-books-addPage-creator",function(o,e){"use strict";o.namespace("ModelCreators")["flickr-products-books-addPage"]={run:function(r,s){var t=this;return o.Promise.all([s.callAPI("flickr.products.books.addPage",this._processParams(r)),s.getModelRegistry("page-models"),s.getModelRegistry("book-page-photo-models"),s.getModelRegistry("photo-models"),s.getModelRegistry("person-models"),s.getModelRegistry("book-models"),s.getModelRegistry("photo-engagement-models")]).then(function(o){return t._processResponse(o,r,s)},o.FetcherErrorLogger(e))},_processParams:function(e){var r={book_id:e.bookId};return e.photoIds&&(r.photo_ids=e.photoIds.join(","),r.extras=o.APIHelper.request.getRebootPhotoExtras()),o.Lang.isNumber(e.templateId)&&(r.template_id=e.templateId),e.backgroundColor&&(r.background_color=e.backgroundColor),r},_processResponse:function(e,r,s){var t,d,a,i=e[0],p=e[1],n=e[2],l=e[3],g=e[4],c=e[5],u=e[6],m=[],h=i.page;return h.photo&&o.Array(h.photo).forEach(function(e){var s,t,a,i;s={id:h.id+"_"+e.position,bookId:r.bookId,position:e.position,cropX:e.cropX/100,cropY:e.cropY/100,cropW:e.cropW/100,cropH:e.cropH/100,invalidForPrintReason:e.invalidForPrintReason,isInvalidForPrint:e.isInvalidForPrint},a=(t=o.APIHelper.response.parsePhoto(e)).owner,i=t.engagement,d=a.id,g.exists(d)?(delete a.id,g.setValues(d,a)):g.add(a),t.owner=g.proxy(d),d=i.id,u.exists(d)?(delete i.id,u.setValues(d,i)):u.add(i),t.engagement=u.proxy(d),d=t.id,l.exists(d)?(delete t.id,l.setValues(d,t)):l.add(t),s.photo=l.proxy(d),d=s.id,n.exists(d)?(delete s.id,n.setValues(d,s)):n.add(s),m.push(n.proxy(d))}),a=o.APIHelper.response.parsePage(h),a.pagePhotos=m,a.bookId=r.bookId,d=a.id,p.exists(d)?(delete a.id,p.setValues(d,a),t=p.proxy(d)):t=p.add(a),c.proxy(r.bookId).getValue("pages").appendToList(t),t}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["page-models","book-models","book-page-photo-models","photo-models","person-models","photo-engagement-models"]});YUI.add("flickr-products-books-removePage-deletor",function(e,o){"use strict";e.namespace("ModelDeletors")["flickr-products-books-removePage"]={run:function(r,s,i){var c={},t=this;return c.page_id=r,c.book_id=s,e.Promise.all([i.getModelRegistry("book-models"),i.callAPI("flickr.products.books.removePage",c)]).then(function(e){return t._processResponse(e)},e.FetcherErrorLogger(o))},_processResponse:function(e,o){var r,s=e[1],i=e[0],c=s.book;c&&(r={id:c.id,price:c.price},i.exists(r.id)&&i.setValues(r.id,{price:r.price}))}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("page-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-products-books-getPage"].run(t,this.appContext)},update:function(t,r){return e.ModelUpdaters["flickr-products-books-updateBook"].run({bookId:this.getValue(t,"bookId")},this.appContext)},create:function(t){return e.ModelCreators["flickr-products-books-addPage"].run(t,this.appContext)},delete:function(t){return e.ModelDeletors["flickr-products-books-removePage"].run(t,this.getValue(t,"bookId"),this.appContext)}},forceUpdate:function(t){return e.ModelUpdaters["flickr-products-books-updateBook"].run({bookId:this.getValue(t,"bookId")},this.appContext)},attributes:{bookId:{getter:function(e){return parseInt(e,10)},validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},backgroundColor:{defaultValue:"255,255,255"},pageNumber:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},template:{getter:function(e){return parseInt(e,10)},validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},countPhotos:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},pagePhotos:{isListProxy:!0}}})},"@VERSION@",{requires:["flickr-products-books-editPage-updater","flickr-products-books-getPage-fetcher","flickr-products-books-addPage-creator","flickr-products-books-removePage-deletor","flickr-model-registry","flickr-promise"]});YUI.add("flickr-products-books-fetcher",function(e,o){"use strict";e.namespace("ModelFetchers")["flickr-products-books"]={run:function(t,s){var r=this;return new e.FlickrPromise({response:s.callAPI("flickr.products.books.getBook",this._processParams(t)),pageModelRegistry:s.getModelRegistry("page-models"),bookModelRegistry:s.getModelRegistry("book-models"),pagePhotoModelRegistry:s.getModelRegistry("book-page-photo-models"),photoModelRegistry:s.getModelRegistry("photo-models"),personRegistry:s.getModelRegistry("person-models"),photoEngagementRegistry:s.getModelRegistry("photo-engagement-models"),photoStatsRegistry:s.getModelRegistry("photo-stats-models")}).then(function(e){return r._processResponse(e,t)},e.FetcherErrorLogger(o))},_processResponse:function(o,t){var s;return s={pageModelRegistry:o.pageModelRegistry,bookModelRegistry:o.bookModelRegistry,pagePhotoModelRegistry:o.pagePhotoModelRegistry,photoModelRegistry:o.photoModelRegistry,personRegistry:o.personRegistry,photoEngagementRegistry:o.photoEngagementRegistry,photoStatsRegistry:o.photoStatsRegistry},e.ProductsAPIHelper.parseBook(o.response.book,s)},_processParams:function(o){return o.page=o.page||1,o.perPage=o.perPage||100,{book_id:o.id,extras:e.APIHelper.request.getRebootPhotoExtras()}}}},"@VERSION@",{requires:["flickr-promise","api-helper","products-api-helper"],optional:["page-models","book-models","book-page-photo-models","photo-models","person-models","photo-engagement-models"]});YUI.add("flickr-products-books-updateBook-updater",function(t,e){"use strict";t.namespace("ModelUpdaters")["flickr-products-books-updateBook"]={run:function(t,e){var o=t.bookId;return this.pendingUpdate?this.updateInFlight:this.updateInFlight?(this.pendingUpdate=!0,this.updateInFlight):this.startUpdate(o,e)},serialize:function(e,o){return t.Promise.all([o.getModel("book-models",e),o.getModelRegistry("page-models")]).then(function(t){var e,i,a={},n=t[0],r=t[1];return e={id:""+n.id,owner:o.getViewer().nsid,title:n.getValue("title")},i=n.getValue("pageOrder"),e.count_pages=i.length-1,i.forEach(function(t,e){var o,i,n={};o={id:(i=r.proxy(t)).id,page_number:i.getValue("pageNumber")+"",count_photos:i.getValue("countPhotos")+"",template:i.getValue("template")+"",background_color:i.getValue("backgroundColor")},i.getValue("pagePhotos").getList().forEach(function(t,e){var o;t.getValue("photo")&&(o={id:t.getValue("photo").id,position:e+1+"",crop_x:100*t.getValue("cropX")+"",crop_y:100*t.getValue("cropY")+"",crop_w:100*t.getValue("cropW")+"",crop_h:100*t.getValue("cropH")+"",low_quality:t.getValue("isLowQuality"),is_invalid_for_print:t.getValue("isInvalidForPrint")},n[e+1]=o)}),o.photos=n,a[e]=o}),e.pages=a,e})},callAPI:function(o,i,a){var n=this;return this.serialize(o,i).then(function(a){return i.callAPI("flickr.products.books.updateBook",{book:JSON.stringify(a)}).then(function(e){if(e[0]&&e[0].badPhotos)t.fire("bookUpdater:failure",{badPhotos:e[0].badPhotos});else if(n.pendingUpdate)return n.pendingUpdate=!1,n.startNextUpdate(o,i)},function(t){throw n.pendingUpdate&&(n.pendingUpdate=!1),t}).then(null,t.FetcherErrorLogger(e))})},clearUpdateInFlight:function(){return this.updateInFlight=null,!0},startUpdate:function(t,e){return this.updateInFlight=this.callAPI(t,e).then(this.clearUpdateInFlight.bind(this),this.clearUpdateInFlight.bind(this)),this.updateInFlight},startNextUpdate:function(t,e){return this.pendingUpdate=null,this.startUpdate(t,e)}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["page-models","book-models","book-page-photo-models"]});YUI.add("api-products-books-helper",function(e){e.APIProductsBooksHelper={processDefaultResponse:function(o,s,r,p){var t,a,i=o.book,d=[];i&&(a={id:i.id,owner:i.owner,title:i.title,coverPhotoId:i.coverPhotoId},i.page&&e.Array(i.page).forEach(function(o){s.exists(o.id)?t=e.APIHelper.response.parsePage(o):s.add(e.APIHelper.response.parsePage(o)),d.push(s.proxy(o.id))}),a.pages=d,r.exists(a.id)?r.setValues(a.id,{title:a.title,pages:a.pages,coverPhotoId:a.coverPhotoId}):r.add(a))}}},"@VERSION@",{requires:["flickr-promise","api-helper","api-products-books-helper"],optional:["page-models","book-models"]});YUI.add("flickr-products-books-editBook-updater",function(o,e){"use strict";o.namespace("ModelUpdaters")["flickr-products-books-editBook"]={run:function(r,t){var i={};return i.book_id=r.bookId,i.title=r.title,o.Promise.all([t.callAPI("flickr.products.books.editBook",i),t.getModelRegistry("book-models")]).then(null,o.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise","api-helper","api-products-books-helper"],optional:["page-models","book-models"]});YUI.add("flickr-products-books-creator",function(e,o){"use strict";e.namespace("ModelCreators")["flickr-products-books-creator"]={run:function(t,s){var r=this;return new e.FlickrPromise({response:s.callAPI("flickr.products.books.create",this._processParams(t)),pageModelRegistry:s.getModelRegistry("page-models"),bookModelRegistry:s.getModelRegistry("book-models"),pagePhotoModelRegistry:s.getModelRegistry("book-page-photo-models"),photoModelRegistry:s.getModelRegistry("photo-models"),personRegistry:s.getModelRegistry("person-models"),photoEngagementRegistry:s.getModelRegistry("photo-engagement-models"),photoStatsRegistry:s.getModelRegistry("photo-stats-models")}).then(function(e){return r._processResponse(e,t)},e.FetcherErrorLogger(o))},_processParams:function(o){var t={};return o=o||{},t=o,t.cacheBust=Date.now(),t.extras=e.APIHelper.request.getRebootPhotoExtras(),t},_processResponse:function(o,t){var s;return s={pageModelRegistry:o.pageModelRegistry,bookModelRegistry:o.bookModelRegistry,pagePhotoModelRegistry:o.pagePhotoModelRegistry,photoModelRegistry:o.photoModelRegistry,personRegistry:o.personRegistry,photoEngagementRegistry:o.photoEngagementRegistry,photoStatsRegistry:o.photoStatsRegistry},e.ProductsAPIHelper.parseBook(o.response.book,s)}}},"@VERSION@",{requires:["flickr-promise","api-helper","products-api-helper"],optional:["page-models","book-models","book-page-photo-models","photo-models","person-models","photo-engagement-models"]});YUI.add("book-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-products-books"].run(t,this.appContext)},update:function(t,r){return"title"in r?e.ModelUpdaters["flickr-products-books-editBook"].run({bookId:t,title:r.title.newVal},this.appContext):e.ModelUpdaters["flickr-products-books-updateBook"].run({bookId:t},this.appContext)},create:function(t){return e.ModelCreators["flickr-products-books-creator"].run(t,this.appContext)}},movePage:function(e,t,r,o){var s,i,a,c;return s=this.getValue(e,"pageOrder"),i=s.length,t<i&&r<i&&(c=o?s.splice(t,2):s.splice(t,1)[0],a=[r,0].concat(c),Array.prototype.splice.apply(s,a)),this.setValue(e,"pageOrder",s),s},addPage:function(e,t,r){var o,s;return o=this.getValue(e,"pageOrder"),s=o.length,r<=s&&o.splice(r+1,0,t),this.setValue(e,"pageOrder",o),o},removePage:function(e,t){var r,o,s;return r=this.getValue(e,"pageOrder"),s=r.length,(o=r.indexOf(t))<s&&(r.splice(o,1),this.setValue(e,"pageOrder",r)),r},attributes:{title:{},owner:{},pageOrder:{},coverPage:{isModel:!0},totalPhotos:{},price:{},lastPageViewed:{},created:{getter:function(e){return parseInt(e,10)}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-products-books-fetcher","flickr-products-books-updateBook-updater","flickr-products-books-editBook-updater","flickr-products-books-creator"]});YUI.add("flickr-products-subscriptions-getSubscriptionDetails-fetcher",function(t,r){"use strict";var s,o;s={1:"Flickr Pro",2:"Flickr Pro",3:"Flickr Pro",4:"Ad Free",6:"Ad Free",7:"Flickr Pro",8:"Flickr Pro"},o={1:"3 months",2:"1 year",3:"2 years",4:"1 year",6:"1 month",7:"1 month",8:"1 year"},t.namespace("ModelFetchers")["flickr-products-subscriptions-getSubscriptionDetails"]={run:function(s,o){var e=this;return t.Promise.all([o.callAPI("flickr.subscriptions.braintree.getSubscriptionDetails",this._processParams(s)),o.getModelRegistry("flickr-products-orders-models"),o.getModelRegistry("flickr-subscriptions-coupons-models"),o.getModelRegistry("flickr-products-discounts-models")]).then(function(t){return e._processResponse(t,s)},t.FetcherErrorLogger(r))},_processResponse:function(r,e){var i,a=r[0].subscriptionData,n=r[1],c=r[2],d=r[3];return a?(i=n.exists(a.orderId)?n.get(a.orderId):n.add({id:a.data.id||null,productName:s[a.data.type]+" "+o[a.data.type],prettyName:a.planInfo.prettyName,prettyNameDuration:a.planInfo.prettyNameDuration,subscriptionDuration:a.planInfo.length||0,orderId:a.data.id||null,costTotal:parseFloat(a.planInfo.price)||0,costProducts:parseFloat(a.planInfo.costProducts)||0,costShipping:0,costTax:a.planInfo.costTax||0,statusOrder:a.data.status||0,statusPayment:a.statusPayment||null,paymentMethodId:a.data.paymentMethodId||null,orderType:"subscription"}),a.data.discounts&&a.data.discounts[0]&&a.data.discounts[0].discount&&i.setValue("coupon",t.ProductsAPIHelper.parseSubscriptionCoupon({subscriptionId:a.data.id,discount:a.data.discounts[0].discount,stat:r[0].stat},{couponRegistry:c,discountRegistry:d}))):console.warn("flickr-products-subscriptions-orders-create-creator: No API response?"),i},_processParams:function(t){return{subscription_id:t.orderId||t.id}}}},"@VERSION@",{requires:["flickr-promise","products-api-helper"],optional:["book-models"]});YUI.add("flickr-products-shippingType-updater",function(r,e){"use strict";r.namespace("ModelUpdaters")["flickr-products-shippingType-updater"]={run:function(p,i){var o={order_id:p.orderId,shipping_type:p.shippingType};return p.countryCode&&(o.country_code=p.countryCode),i.callAPI("flickr.products.orders.setShippingType",o).then(null,r.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("flickr-products-orders-getOrder-fetcher",function(r,e){"use strict";r.namespace("ModelFetchers")["flickr-products-orders-getOrder"]={run:function(s,o){var t=this;return new r.FlickrPromise({response:o.callAPI("flickr.products.orders.getOrder",this._processParams(s)),orderRegistry:o.getModelRegistry("flickr-products-orders-models"),couponRegistry:o.getModelRegistry("flickr-products-coupons-models"),discountRegistry:o.getModelRegistry("flickr-products-discounts-models"),itemRegistry:o.getModelRegistry("products-order-item-models"),itemPriceRegistry:o.getModelRegistry("products-order-item-price-models")}).then(function(r){return t._processResponse(r,s,o)},r.FetcherErrorLogger(e))},_processResponse:function(e,s,o){var t,i,d,c,u,p,n;return n=e.response,t=e.orderRegistry,i=e.couponRegistry,d=e.discountRegistry,c=e.itemRegistry,u=e.itemPriceRegistry,p={orderRegistry:t,orderItemRegistry:c,itemPriceRegistry:u,couponRegistry:i,discountRegistry:d},r.ProductsAPIHelper.parseOrder(n.order,p)},_processParams:function(r){var e={};return e.order_id=r.orderId||r.id,e}}},"@VERSION@",{requires:["flickr-promise","products-api-helper"],optional:["flickr-products-orders-models","flickr-products-coupons-models","flickr-products-discounts-models","products-order-item-models","products-order-item-price-models"]});YUI.add("flickr-products-orders-deletor",function(r,e){"use strict";r.namespace("ModelDeletors")["flickr-products-orders-deletor"]={run:function(c,o){return o.callAPI("flickr.products.orders.cancel",c).then(null,r.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-products-orders-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{read:function(e){return"subscription"===e.type?t.ModelFetchers["flickr-products-subscriptions-getSubscriptionDetails"].run(e,this.appContext):t.ModelFetchers["flickr-products-orders-getOrder"].run(e,this.appContext)},create:function(e){return e.planType?t.ModelCreators["flickr-products-subscriptions-orders-create"].run(e,this.appContext):t.ModelCreators["flickr-products-orders-create"].run(e,this.appContext)},delete:function(e,r){return t.ModelDeletors["flickr-products-orders-deletor"].run({order_id:e},this.appContext)},update:function(e,r){var o;return r.countryCode?(o={shippingType:this.getValue(e,"shippingType"),orderId:this.getValue(e,"orderId"),countryCode:r.countryCode.newVal},t.ModelUpdaters["flickr-products-shippingType-updater"].run(o,this.appContext)):r.shippingType?(o={shippingType:r.shipMethod?r.shipMethod.newVal:this.getValue(e,"shippingType"),orderId:this.getValue(e,"orderId"),countryCode:this.getValue(e,"countryCode")},t.ModelUpdaters["flickr-products-shippingType-updater"].run(o,this.appContext)):t.Promise.resolve()}},attributes:{orderId:{},bookId:{},isCouponApplied:{},isFreeOrder:{},costTotal:{setter:function(t){return t?parseFloat(t).toFixed(2):parseFloat(0).toFixed(2)},defaultFn:function(t){return parseFloat(0).toFixed(2)}},shippingType:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},dateCreate:{validator:function(e,r){return t.AttributeHelpers.validateDate(e)},setter:function(e){return t.AttributeHelpers.coerceDate(e)||void 0},serialize:function(t){return t.format("X")},deserialize:function(e){return t.moment(e,"X")},defaultFn:function(e){return t.moment()}},costProducts:{setter:function(t){return t?parseFloat(t).toFixed(2):parseFloat(0).toFixed(2)},defaultFn:function(t){return parseFloat(0).toFixed(2)}},costShipping:{setter:function(t){return t?parseFloat(t).toFixed(2):parseFloat(0).toFixed(2)},defaultFn:function(t){return parseFloat(0).toFixed(2)}},costDiscount:{setter:function(t){return t?parseFloat(t).toFixed(2):parseFloat(0).toFixed(2)},defaultFn:function(t){return parseFloat(0).toFixed(2)}},costTax:{setter:function(t){return t?parseFloat(t).toFixed(2):parseFloat(0).toFixed(2)},defaultFn:function(t){return parseFloat(0).toFixed(2)}},items:{isListProxy:!0},statusOrder:{},statusPrint:{},statusPayment:{},paymentMethodId:{},userId:{},orderType:{},productName:{},prettyName:{},prettyNameDuration:{},subscriptionDuration:{},bookPreviewPdf:{},trackingNum:{},trackingUrl:{},coupon:{isModel:!0},countryCode:{getter:function(t){return t||"US"},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:"US"}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-products-orders-create-creator","flickr-products-subscriptions-orders-create-creator","flickr-products-subscriptions-getSubscriptionDetails-fetcher","flickr-products-shippingType-updater","flickr-products-orders-create-creator","flickr-products-orders-getOrder-fetcher","flickr-products-orders-deletor"]});YUI.add("flickr-products-orders-applyCoupon-creator",function(r,e){"use strict";r.namespace("ModelCreators")["flickr-products-orders-applyCoupon"]={run:function(o,s){return new r.FlickrPromise({response:s.callAPI("flickr.products.orders.applyCoupon",this._processParams(o)),orderRegistry:s.getModelRegistry("flickr-products-orders-models"),couponRegistry:s.getModelRegistry("flickr-products-coupons-models"),discountRegistry:s.getModelRegistry("flickr-products-discounts-models"),itemRegistry:s.getModelRegistry("products-order-item-models"),itemPriceRegistry:s.getModelRegistry("products-order-item-price-models")}).then(this._processResponse,r.FetcherErrorLogger(e))},_processParams:function(r){var e={};return e.order_id=r.orderId,e.coupon_code=r.couponCode,e},_processResponse:function(e){var o,s,t,i,d,c,p;return p=e.response,o=e.orderRegistry,s=e.couponRegistry,t=e.discountRegistry,i=e.itemRegistry,d=e.itemPriceRegistry,c={orderRegistry:o,orderItemRegistry:i,itemPriceRegistry:d,couponRegistry:s,discountRegistry:t},r.ProductsAPIHelper.parseOrder(p.order,c).getValue("coupon")}}},"@VERSION@",{requires:["flickr-promise","products-api-helper"],optional:["flickr-products-orders-models","flickr-products-coupons-models","flickr-products-discounts-models","products-order-item-models","products-order-item-price-models"]});YUI.add("flickr-braintree-createSubscription-creator",function(r,e){"use strict";r.namespace("ModelCreators")["flickr-braintree-createSubscription-create"]={run:function(s,t){var c=this;return r.Promise.all([t.callAPI("flickr.subscriptions.braintree.createSubscription",this._processParams(s))]).then(function(r){return c._processResponse(r,s)},r.FetcherErrorLogger(e))},_processParams:function(r){var e={};return r=r||{},e=r,e.cacheBust=Date.now(),e},_processResponse:function(r,e){var s=r[0].subscriptionData;return s||console.warn("flickr-braintree-createSubscription-creator: No API response?"),s}}},"@VERSION@",{requires:["flickr-promise","flickr-products-orders-models"],optional:[]});YUI.add("flickr-subscriptions-transferSubscriptions-updater",function(r,s){"use strict";r.namespace("ModelUpdaters")["flickr-subscriptions-transferSubscriptions-updater"]={run:function(i,t){return t.callAPI("flickr.subscriptions.transferSubscriptions",i).then(null,r.FetcherErrorLogger(s))}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("flickr-products-braintree-paymentDefault-updater",function(e,r){"use strict";e.namespace("ModelUpdaters")["flickr-products-braintree-paymentDefault-updater"]={run:function(t,a){return a.callAPI("flickr.subscriptions.braintree.updatePaymentDefault",t).then(null,e.FetcherErrorLogger(r))}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});