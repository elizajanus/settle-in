YUI.add("hermes-template-notification-mention",function(e,l){var n=e.Template.Handlebars.revive({1:function(e,l,n,a,t){var i;return"\t\t"+e.escapeExpression((n.intlHTMLMessage||l&&l.intlHTMLMessage||n.helperMissing).call(null!=l?l:{},{name:"intlHTMLMessage",hash:{count:null!=l?l.subPeopleCount:l,mediaType:null!=(i=null!=l?l.object:l)?i.mediaType:i,objectUrl:null!=(i=null!=l?l.object:l)?i.url:i,secondPersonUrl:null!=(i=null!=(i=null!=l?l.people:l)?i[1]:i)?i.url:i,secondPersonName:null!=(i=null!=(i=null!=l?l.people:l)?i[1]:i)?i.name:i,personUrl:null!=(i=null!=(i=null!=l?l.people:l)?i[0]:i)?i.url:i,personName:null!=(i=null!=(i=null!=l?l.people:l)?i[0]:i)?i.name:i,intlName:"notifications.NOTIF_MENTION_MULTI"},data:t}))+"\t\n"},3:function(e,l,n,a,t){var i;return"\t\t"+e.escapeExpression((n.intlHTMLMessage||l&&l.intlHTMLMessage||n.helperMissing).call(null!=l?l:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(i=null!=l?l.object:l)?i.mediaType:i,objectUrl:null!=(i=null!=l?l.object:l)?i.url:i,personUrl:null!=(i=null!=(i=null!=l?l.people:l)?i[0]:i)?i.url:i,personName:null!=(i=null!=(i=null!=l?l.people:l)?i[0]:i)?i.name:i,intlName:"notifications.NOTIF_MENTION"},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,l,n,a,t){var i;return'<div class="details">\n\t<span class="headline">\n'+(null!=(i=n.if.call(null!=l?l:{},null!=l?l.subPeopleCount:l,{name:"if",hash:{},fn:e.program(1,t,0),inverse:e.program(3,t,0),data:t}))?i:"")+"\t</span>\n\n"+(null!=(i=e.invokePartial(a["notification-photo-extra-info"],l,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>"},usePartial:!0,useData:!0}),a={};e.Array.each(["notification-photo-extra-info"],function(l){var n=e.Template.get("hermes/"+l);n&&(a[l]=n)}),e.Template.register("hermes/notification-mention",function(l,t){return t=t||{},t.partials=t.partials?e.merge(a,t.partials):a,n(l,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-photo-group-invite",function(l,n){var e=l.Template.Handlebars.revive({1:function(l,n,e,a,t){var u;return"\t\t"+l.escapeExpression((e.intlHTMLMessage||n&&n.intlHTMLMessage||e.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{count:null!=n?n.subGroupsCount:n,secondGroupUrl:null!=(u=null!=(u=null!=n?n.groups:n)?u[1]:u)?u.url:u,secondGroupName:null!=(u=null!=(u=null!=n?n.groups:n)?u[1]:u)?u.title:u,groupUrl:null!=(u=null!=(u=null!=n?n.groups:n)?u[0]:u)?u.url:u,groupName:null!=(u=null!=(u=null!=n?n.groups:n)?u[0]:u)?u.title:u,mediaType:null!=(u=null!=n?n.object:n)?u.mediaType:u,objectUrl:null!=(u=null!=n?n.object:n)?u.url:u,intlName:"notifications.NOTIF_PHOTO_GROUP_INVITE_MULTI"},data:t}))+"\n"},3:function(l,n,e,a,t){var u;return"\t\t"+l.escapeExpression((e.intlHTMLMessage||n&&n.intlHTMLMessage||e.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{groupUrl:null!=(u=null!=(u=null!=n?n.groups:n)?u[0]:u)?u.url:u,groupName:null!=(u=null!=(u=null!=n?n.groups:n)?u[0]:u)?u.title:u,ownerUrl:null!=(u=null!=(u=null!=n?n.event:n)?u.owner:u)?u.url:u,mediaType:null!=(u=null!=n?n.object:n)?u.mediaType:u,objectUrl:null!=(u=null!=n?n.object:n)?u.url:u,title:null!=(u=null!=n?n.object:n)?u.title:u,owner:null!=(u=null!=(u=null!=n?n.event:n)?u.owner:u)?u.displayname:u,intlName:"notifications.NOTIF_PHOTO_GROUP_INVITE"},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(l,n,e,a,t){var u,r,o=l.lambda,i=l.escapeExpression,s=null!=n?n:{};return'<a class="avatar group tiny no-menu" style="background-image: url('+i(o(null!=(u=null!=(u=null!=n?n.event:n)?u.group:u)?u.bestIconURL:u,n))+');" href="'+i(o(null!=(u=null!=(u=null!=n?n.event:n)?u.group:u)?u.url:u,n))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n'+(null!=(u=e.if.call(s,null!=n?n.subGroupsCount:n,{name:"if",hash:{},fn:l.program(1,t,0),inverse:l.program(3,t,0),data:t}))?u:"")+"\t</span>\n\n"+(null!=(u=l.invokePartial(a["notification-photo-extra-info"],n,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:e,partials:a,decorators:l.decorators}))?u:"")+'</div>\n\n<a class="avatar '+i("function"==typeof(r=null!=(r=e.type||(null!=n?n.type:n))?r:e.helperMissing)?r.call(s,{name:"type",hash:{},data:t}):r)+' small" style="background-image: url('+i(o(null!=(u=null!=(u=null!=(u=null!=n?n.object:n)?u.sizes:u)?u.sq:u)?u.url:u,n))+');" href="'+i(o(null!=(u=null!=n?n.object:n)?u.url:u,n))+'"></a>\n'},usePartial:!0,useData:!0}),a={};l.Array.each(["notification-photo-extra-info"],function(n){var e=l.Template.get("hermes/"+n);e&&(a[n]=e)}),l.Template.register("hermes/notification-photo-group-invite",function(n,t){return t=t||{},t.partials=t.partials?l.merge(a,t.partials):a,e(n,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-photo-note",function(l,n){var e=l.Template.Handlebars.revive({1:function(l,n,e,a,t){var o;return null!=(o=e.if.call(null!=n?n:{},null!=n?n.subPeopleCount:n,{name:"if",hash:{},fn:l.program(2,t,0),inverse:l.program(4,t,0),data:t}))?o:""},2:function(l,n,e,a,t){var o;return"\t\t\t\t"+l.escapeExpression((e.intlHTMLMessage||n&&n.intlHTMLMessage||e.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(o=null!=n?n.object:n)?o.mediaType:o,objectUrl:null!=(o=null!=n?n.object:n)?o.url:o,secondPersonUrl:null!=(o=null!=(o=null!=n?n.people:n)?o[1]:o)?o.url:o,secondPersonName:null!=(o=null!=(o=null!=n?n.people:n)?o[1]:o)?o.name:o,personUrl:null!=(o=null!=(o=null!=n?n.people:n)?o[0]:o)?o.url:o,personName:null!=(o=null!=(o=null!=n?n.people:n)?o[0]:o)?o.name:o,count:null!=n?n.subPeopleCount:n,intlName:"notifications.NOTIF_NOTES_MULTI"},data:t}))+"\n"},4:function(l,n,e,a,t){var o;return"\t\t\t\t"+l.escapeExpression((e.intlHTMLMessage||n&&n.intlHTMLMessage||e.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(o=null!=n?n.object:n)?o.mediaType:o,objectUrl:null!=(o=null!=n?n.object:n)?o.url:o,personUrl:null!=(o=null!=(o=null!=n?n.event:n)?o.owner:o)?o.url:o,personName:null!=(o=null!=(o=null!=n?n.event:n)?o.owner:o)?o.displayname:o,intlName:"notifications.NOTIF_NOTES"},data:t}))+"\n"},6:function(l,n,e,a,t){var o;return null!=(o=e.if.call(null!=n?n:{},null!=n?n.subPeopleCount:n,{name:"if",hash:{},fn:l.program(7,t,0),inverse:l.program(9,t,0),data:t}))?o:""},7:function(l,n,e,a,t){var o;return"\t\t\t\t"+l.escapeExpression((e.intlHTMLMessage||n&&n.intlHTMLMessage||e.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(o=null!=n?n.object:n)?o.mediaType:o,objectUrl:null!=(o=null!=n?n.object:n)?o.url:o,ownerUrl:null!=(o=null!=(o=null!=n?n.object:n)?o.owner:o)?o.url:o,ownerName:null!=(o=null!=(o=null!=n?n.object:n)?o.owner:o)?o.displayname:o,secondPersonUrl:null!=(o=null!=(o=null!=n?n.people:n)?o[1]:o)?o.url:o,secondPersonName:null!=(o=null!=(o=null!=n?n.people:n)?o[1]:o)?o.name:o,personUrl:null!=(o=null!=(o=null!=n?n.people:n)?o[0]:o)?o.url:o,personName:null!=(o=null!=(o=null!=n?n.people:n)?o[0]:o)?o.name:o,count:null!=n?n.subPeopleCount:n,intlName:"notifications.NOTIF_NOTES_OTHER_MULTI"},data:t}))+"\n"},9:function(l,n,e,a,t){var o;return"\t\t\t\t"+l.escapeExpression((e.intlHTMLMessage||n&&n.intlHTMLMessage||e.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(o=null!=n?n.object:n)?o.mediaType:o,ownerUrl:null!=(o=null!=(o=null!=n?n.object:n)?o.owner:o)?o.url:o,ownerName:null!=(o=null!=(o=null!=n?n.object:n)?o.owner:o)?o.displayname:o,objectUrl:null!=(o=null!=n?n.object:n)?o.url:o,personUrl:null!=(o=null!=(o=null!=n?n.people:n)?o[0]:o)?o.url:o,personName:null!=(o=null!=(o=null!=n?n.people:n)?o[0]:o)?o.name:o,intlName:"notifications.NOTIF_NOTES_OTHER"},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(l,n,e,a,t){var o;return'<div class="details">\n\t<span class="headline">\n'+(null!=(o=e.if.call(null!=n?n:{},null!=(o=null!=(o=null!=n?n.object:n)?o.owner:o)?o.isMe:o,{name:"if",hash:{},fn:l.program(1,t,0),inverse:l.program(6,t,0),data:t}))?o:"")+"\t</span>\n\n"+(null!=(o=l.invokePartial(a["notification-photo-extra-info"],n,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:e,partials:a,decorators:l.decorators}))?o:"")+"</div>"},usePartial:!0,useData:!0}),a={};l.Array.each(["notification-photo-extra-info"],function(n){var e=l.Template.get("hermes/"+n);e&&(a[n]=e)}),l.Template.register("hermes/notification-photo-note",function(n,t){return t=t||{},t.partials=t.partials?l.merge(a,t.partials):a,e(n,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-photo-share",function(e,a){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,i){var l;return'<div class="details">\n\t<span class="headline">\n\t\t'+e.escapeExpression((n.intlHTMLMessage||a&&a.intlHTMLMessage||n.helperMissing).call(null!=a?a:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(l=null!=a?a.object:a)?l.mediaType:l,objectUrl:null!=(l=null!=a?a.object:a)?l.url:l,personUrl:null!=(l=null!=(l=null!=a?a.event:a)?l.owner:l)?l.url:l,personName:null!=(l=null!=(l=null!=a?a.event:a)?l.owner:l)?l.displayname:l,intlName:"notifications.NOTIF_SHARE"},data:i}))+"\n\t</span>\n\n"+(null!=(l=e.invokePartial(t["notification-photo-extra-info"],a,{name:"notification-photo-extra-info",data:i,indent:"\t",helpers:n,partials:t,decorators:e.decorators}))?l:"")+"</div>"},usePartial:!0,useData:!0}),t={};e.Array.each(["notification-photo-extra-info"],function(a){var n=e.Template.get("hermes/"+a);n&&(t[a]=n)}),e.Template.register("hermes/notification-photo-share",function(a,i){return i=i||{},i.partials=i.partials?e.merge(t,i.partials):t,n(a,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-group-discussion-reply",function(l,e){var n=l.Template.Handlebars.revive({1:function(l,e,n,a,t){var r;return"\t\t\t"+l.escapeExpression((n.intlHTMLMessage||e&&e.intlHTMLMessage||n.helperMissing).call(null!=e?e:{},{name:"intlHTMLMessage",hash:{count:null!=e?e.subPeopleCount:e,mediaType:null!=(r=null!=e?e.object:e)?r.mediaType:r,groupUrl:null!=(r=null!=e?e.object:e)?r.groupUrl:r,groupName:null!=(r=null!=e?e.object:e)?r.groupName:r,replyUrl:null!=e?e.replyUrl:e,objectTitle:null!=(r=null!=e?e.object:e)?r.title:r,secondPersonUrl:null!=(r=null!=(r=null!=e?e.people:e)?r[1]:r)?r.url:r,secondPersonName:null!=(r=null!=(r=null!=e?e.people:e)?r[1]:r)?r.name:r,personUrl:null!=(r=null!=(r=null!=e?e.people:e)?r[0]:r)?r.url:r,personName:null!=(r=null!=(r=null!=e?e.people:e)?r[0]:r)?r.name:r,intlName:"notifications.NOTIF_GROUP_DISCUSSION_REPLY_MULTI"},data:t}))+"\n"},3:function(l,e,n,a,t){var r;return"\t\t\t"+l.escapeExpression((n.intlHTMLMessage||e&&e.intlHTMLMessage||n.helperMissing).call(null!=e?e:{},{name:"intlHTMLMessage",hash:{mediaType:null!=(r=null!=e?e.object:e)?r.mediaType:r,groupUrl:null!=(r=null!=e?e.object:e)?r.groupUrl:r,groupName:null!=(r=null!=e?e.object:e)?r.groupName:r,replyUrl:null!=e?e.replyUrl:e,objectTitle:null!=(r=null!=e?e.object:e)?r.title:r,personUrl:null!=(r=null!=(r=null!=e?e.people:e)?r[0]:r)?r.url:r,personName:null!=(r=null!=(r=null!=e?e.people:e)?r[0]:r)?r.name:r,intlName:"notifications.NOTIF_GROUP_DISCUSSION_REPLY"},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(l,e,n,a,t){var r,o=l.lambda,u=l.escapeExpression;return'<a class="avatar group tiny no-menu" style="background-image: url('+u(o(null!=(r=null!=(r=null!=e?e.object:e)?r.group:r)?r.bestIconURL:r,e))+');" href="'+u(o(null!=(r=null!=e?e.object:e)?r.groupUrl:r,e))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n\n'+(null!=(r=n.if.call(null!=e?e:{},null!=e?e.subPeopleCount:e,{name:"if",hash:{},fn:l.program(1,t,0),inverse:l.program(3,t,0),data:t}))?r:"")+"\t</span>\n\n"+(null!=(r=l.invokePartial(a["notification-photo-extra-info"],e,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:n,partials:a,decorators:l.decorators}))?r:"")+"</div>\n"},usePartial:!0,useData:!0}),a={};l.Array.each(["notification-photo-extra-info"],function(e){var n=l.Template.get("hermes/"+e);n&&(a[e]=n)}),l.Template.register("hermes/notification-group-discussion-reply",function(e,t){return t=t||{},t.partials=t.partials?l.merge(a,t.partials):a,n(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-gallery-comment",function(e,l){var n=e.Template.Handlebars.revive({1:function(e,l,n,a,t){var o;return"\t\t\t"+e.escapeExpression((n.intlHTMLMessage||l&&l.intlHTMLMessage||n.helperMissing).call(null!=l?l:{},{name:"intlHTMLMessage",hash:{objectUrl:null!=(o=null!=l?l.object:l)?o.url:o,objectName:null!=(o=null!=l?l.object:l)?o.title:o,secondPersonUrl:null!=(o=null!=(o=null!=l?l.people:l)?o[1]:o)?o.url:o,secondPersonName:null!=(o=null!=(o=null!=l?l.people:l)?o[1]:o)?o.name:o,personUrl:null!=(o=null!=(o=null!=l?l.people:l)?o[0]:o)?o.url:o,personName:null!=(o=null!=(o=null!=l?l.people:l)?o[0]:o)?o.name:o,count:null!=l?l.subPeopleCount:l,intlName:"notifications.NOTIF_GALLERY_COMMENT_MULTI"},data:t}))+"\n"},3:function(e,l,n,a,t){var o;return"\t\t\t"+e.escapeExpression((n.intlHTMLMessage||l&&l.intlHTMLMessage||n.helperMissing).call(null!=l?l:{},{name:"intlHTMLMessage",hash:{objectUrl:null!=(o=null!=l?l.object:l)?o.url:o,objectName:null!=(o=null!=l?l.object:l)?o.title:o,personUrl:null!=(o=null!=(o=null!=l?l.people:l)?o[0]:o)?o.url:o,personName:null!=(o=null!=(o=null!=l?l.people:l)?o[0]:o)?o.name:o,intlName:"notifications.NOTIF_GALLERY_COMMENT"},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,l,n,a,t){var o,r=e.lambda,i=e.escapeExpression;return'<a class="avatar person tiny no-menu" style="background-image: url('+i(r(null!=(o=null!=(o=null!=l?l.event:l)?o.owner:o)?o.buddyicon:o,l))+');" href="'+i(r(null!=(o=null!=(o=null!=l?l.event:l)?o.owner:o)?o.profileURL:o,l))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n'+(null!=(o=n.if.call(null!=l?l:{},null!=l?l.subPeopleCount:l,{name:"if",hash:{},fn:e.program(1,t,0),inverse:e.program(3,t,0),data:t}))?o:"")+"\t</span>\n\n"+(null!=(o=e.invokePartial(a["notification-photo-extra-info"],l,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:n,partials:a,decorators:e.decorators}))?o:"")+"</div>\n"},usePartial:!0,useData:!0}),a={};e.Array.each(["notification-photo-extra-info"],function(l){var n=e.Template.get("hermes/"+l);n&&(a[l]=n)}),e.Template.register("hermes/notification-gallery-comment",function(l,t){return t=t||{},t.partials=t.partials?e.merge(a,t.partials):a,n(l,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-friend-join",function(e,n){var a=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,r=e.lambda,o=e.escapeExpression;return'<a class="avatar person tiny no-menu" style="background-image: url('+o(r(null!=(l=null!=(l=null!=n?n.event:n)?l.owner:l)?l.buddyicon:l,n))+');" href="'+o(r(null!=(l=null!=(l=null!=n?n.event:n)?l.owner:l)?l.profileURL:l,n))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n\t\t'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{personUrl:null!=(l=null!=(l=null!=n?n.event:n)?l.owner:l)?l.profileURL:l,personName:null!=(l=null!=(l=null!=n?n.event:n)?l.owner:l)?l.displayname:l,intlName:"notifications.NOTIF_FRIEND_JOIN"},data:i}))+"\n\t</span>\n\n"+(null!=(l=e.invokePartial(t["notification-photo-extra-info"],n,{name:"notification-photo-extra-info",data:i,indent:"\t",helpers:a,partials:t,decorators:e.decorators}))?l:"")+"</div>"},usePartial:!0,useData:!0}),t={};e.Array.each(["notification-photo-extra-info"],function(n){var a=e.Template.get("hermes/"+n);a&&(t[n]=a)}),e.Template.register("hermes/notification-friend-join",function(n,i){return i=i||{},i.partials=i.partials?e.merge(t,i.partials):t,a(n,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-group-topic-new",function(e,n){var l=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,n,l,a,t){var i,o=e.lambda,r=e.escapeExpression;return'<a class="avatar person tiny no-menu" style="background-image: url('+r(o(null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.buddyicon:i,n))+');" href="'+r(o(null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.profileURL:i,n))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n\t\t'+r((l.intlHTMLMessage||n&&n.intlHTMLMessage||l.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{groupUrl:null!=(i=null!=(i=null!=n?n.object:n)?i.group:i)?i.url:i,groupName:null!=(i=null!=(i=null!=n?n.object:n)?i.group:i)?i.title:i,discussionUrl:null!=(i=null!=n?n.object:n)?i.url:i,discussionName:null!=(i=null!=n?n.object:n)?i.title:i,personUrl:null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.profileURL:i,personName:null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.displayname:i,intlName:"notifications.NOTIF_NEW_GROUP_DISCUSSION"},data:t}))+"\n\t</span>\n\n"+(null!=(i=e.invokePartial(a["notification-photo-extra-info"],n,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:l,partials:a,decorators:e.decorators}))?i:"")+"</div>\n"},usePartial:!0,useData:!0}),a={};e.Array.each(["notification-photo-extra-info"],function(n){var l=e.Template.get("hermes/"+n);l&&(a[n]=l)}),e.Template.register("hermes/notification-group-topic-new",function(n,t){return t=t||{},t.partials=t.partials?e.merge(a,t.partials):a,l(n,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-flickrmail",function(e,n){var l=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,n,l,a,t){var i,r=e.lambda,o=e.escapeExpression;return'<a class="avatar person tiny no-menu" style="background-image: url('+o(r(null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.buddyicon:i,n))+');" href="'+o(r(null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.profileURL:i,n))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n\t\t'+o((l.intlHTMLMessage||n&&n.intlHTMLMessage||l.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{mailUrl:null!=(i=null!=(i=null!=n?n.event:n)?i.mail:i)?i.url:i,mailTitle:null!=(i=null!=(i=null!=n?n.event:n)?i.mail:i)?i.title:i,personUrl:null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.profileURL:i,personName:null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.displayname:i,intlName:"notifications.NOTIF_FLICKRMAIL"},data:t}))+"\n\t</span>\n\n"+(null!=(i=e.invokePartial(a["notification-photo-extra-info"],n,{name:"notification-photo-extra-info",data:t,indent:"\t",helpers:l,partials:a,decorators:e.decorators}))?i:"")+"</div>"},usePartial:!0,useData:!0}),a={};e.Array.each(["notification-photo-extra-info"],function(n){var l=e.Template.get("hermes/"+n);l&&(a[n]=l)}),e.Template.register("hermes/notification-flickrmail",function(n,t){return t=t||{},t.partials=t.partials?e.merge(a,t.partials):a,l(n,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-testimonial",function(e,n){var a=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,n,a,t,l){var i,r=e.lambda,o=e.escapeExpression;return'<a class="avatar person tiny no-menu" style="background-image: url('+o(r(null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.buddyicon:i,n))+');" href="'+o(r(null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.profileURL:i,n))+'"></a>\n\n<div class="details">\n\t<span class="headline">\n\t\t'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{testimonialUrl:null!=(i=null!=n?n.event:n)?i.url:i,personUrl:null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.profileURL:i,personName:null!=(i=null!=(i=null!=n?n.event:n)?i.owner:i)?i.displayname:i,intlName:"notifications.NOTIF_TESTIMONIAL"},data:l}))+"\n\t</span>\n\n"+(null!=(i=e.invokePartial(t["notification-photo-extra-info"],n,{name:"notification-photo-extra-info",data:l,indent:"\t",helpers:a,partials:t,decorators:e.decorators}))?i:"")+"</div>"},usePartial:!0,useData:!0}),t={};e.Array.each(["notification-photo-extra-info"],function(n){var a=e.Template.get("hermes/"+n);a&&(t[n]=a)}),e.Template.register("hermes/notification-testimonial",function(n,l){return l=l||{},l.partials=l.partials?e.merge(t,l.partials):t,a(n,l)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});YUI.add("hermes-template-notification-context-menu",function(t,e){var n=t.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(t,e,n,i,a){var s=null!=e?e:{},o=n.helperMissing,l=t.escapeExpression;return'<div class="notification-context-menu">\n\t\n\t<ul class="notification-context-list">\n\t\t<li class="notification-context-option turn-off-object-option">'+l((n.intlMessage||e&&e.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_TURN_OFF_OBJECT"},data:a}))+'</li>\n\t\t<li class="notification-context-option turn-on-object-option hidden">'+l((n.intlMessage||e&&e.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_TURN_ON_OBJECT"},data:a}))+"</li>\n\t</ul>\n\n</div>"},useData:!0}),i={};t.Array.each([],function(e){var n=t.Template.get("hermes/"+e);n&&(i[e]=n)}),t.Template.register("hermes/notification-context-menu",function(e,a){return a=a||{},a.partials=a.partials?t.merge(i,a.partials):i,n(e,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-notification",function(e,n){var a=e.Template.Handlebars.revive({1:function(e,n,a,t,l){return" has-menu"},3:function(e,n,a,t,l){var i;return null!=(i=a.if.call(null!=n?n:{},null!=n?n.hasMenu:n,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:""},4:function(e,n,a,t,l){return'\t\t<span class="notif-context-menu-caret"></span>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,l){var i,r=null!=n?n:{},s=a.helperMissing;return'<div class="notification'+(null!=(i=a.if.call(r,null!=n?n.hasMenu:n,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+'">\n\t'+e.escapeExpression((a.outlet||n&&n.outlet||s).call(r,null!=n?n.notifTemplate:n,!1,{name:"outlet",hash:{},data:l}))+"\n\n"+(null!=(i=(a.isFlipped||n&&n.isFlipped||s).call(r,"enable-notif-caret",{name:"isFlipped",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+"</div>"},useData:!0}),t={};e.Array.each([],function(n){var a=e.Template.get("hermes/"+n);a&&(t[n]=a)}),e.Template.register("hermes/notification",function(n,l){return l=l||{},l.partials=l.partials?e.merge(t,l.partials):t,a(n,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("notification-view",function(t){t.flutil;t.namespace("Views")[this.name]=t.Base.create("notification-view",t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.objectId=t.objectId,this.object=t.object,this.objectType=t.objectType,this.subevents=t.events,this.isMuted=t.isMuted,this.notifModel=t.notifModel,this},loadState:function(){return t.Promise.resolve()},buildContainer:function(){var t,e,n={object:this.object,type:this.objectType,event:this.subevents[0],subCount:this.subevents.length-1,viewer:this.appContext.getViewer(),eventCount:this.subevents.length,events:this.subevents,hasMenu:!0};if("photo"===this.objectType){for(var i=0;i<n.events.length;i++)n.events[i].owner.url="/photos/"+n.events[i].owner.pathAlias||n.events[i].owner.id;"group-invite"!==n.event.type&&(n.people=this.getEventOwners(n.events),n.peopleCount=n.people.length,n.subPeopleCount=n.people.length-1),"comment"===n.event.type?e="notification-photo-comment":"fave"===n.event.type?e="notification-photo-fave":"gallery"===n.event.type?t="notification-added-to-gallery":"people"===n.event.type?(e="notification-person",n.object.owner.isMe||(n.hasMenu=!1)):"tag"===n.event.type?e="notification-tag":"photo_comment_mention"===n.event.type?e="notification-mention":"group_invite"===n.event.type?(n.groups=this.getEventGroups(n.events),n.groupsCount=n.groups.length,n.subGroupsCount=n.groups.length-1,t="notification-photo-group-invite"):"note"===n.event.type?e="notification-photo-note":"share"===n.event.type&&(e="notification-photo-share",n.hasMenu=!1)}else"person"===this.objectType?(n.event&&"contacted"===n.event.type?(n.event.owner.url="/photos/"+n.event.owner.pathAlias||n.event.owner.id,t="notification-person-follow"):n.event&&"friend_join"===n.event.type&&(t="notification-friend-join",n.hasMenu=!1),n.hasMenu=!1):"group"===this.objectType?n.event&&"group_user_invite"===n.event.type&&(t="notification-group-invite",n.hasMenu=!1):"discussion"===this.objectType?(!n.event||"topic_reply"!==n.event.type&&"reply_reply"!==n.event.type||(n.people=this.getEventOwners(n.events),n.peopleCount=n.people.length,n.subPeopleCount=n.people.length-1,n.replyUrl=n.object.url+"/"+n.event.replyId,t="notification-group-discussion-reply"),n.event&&"group_topic_new"===n.event.type&&(t="notification-group-topic-new",n.hasMenu=!1)):"gallery"===this.objectType?"comment"===n.event.type&&(n.people=this.getEventOwners(n.events),n.peopleCount=n.people.length,n.subPeopleCount=n.people.length-1,t="notification-gallery-comment"):"flickrmail"===this.objectType?(n.event&&"flickrmail"===n.event.type&&(t="notification-flickrmail"),n.hasMenu=!1):"testimonial"===this.objectType&&(n.event&&"testimonial"===n.event.type&&(t="notification-testimonial"),n.hasMenu=!1);return e&&(n.details=this.templates(e)(n),t="notification-photo-shell"),n.notifTemplate=this.templates(t)(n),this.setContainerWithTemplate("notification",n),this},activate:function(){var t=this.subevents[0],e={type:this.objectType,id:this.object.id,eventType:t.type,latestTimestamp:t.timestamp,isMuted:this.isMuted};return this.notificationsList=this.get("container").ancestor(".notifications-list"),this.listItem=this.get("container").ancestor("li.notification-list-item"),this.ctxMenuArrow=this.get("container").one(".notif-context-menu-caret"),this.notification=this.listItem.one(".notification"),this.ctxMenuArrow&&this.registerEventHandler(this.ctxMenuArrow.on("click",this.handleContextArrowClick.bind(this))),this.ctxMenu||(this.get("container").appendChild(this.templates("notification-context-menu")({})),this.ctxMenu=this.get("container").one(".notification-context-menu")),this.turnOffOption=this.ctxMenu.one(".turn-off-object-option"),this.turnOnOption=this.ctxMenu.one(".turn-on-object-option"),this.turnOffOption&&this.registerEventHandler(this.turnOffOption.on("click",this.handleMuteObjectClick.bind(this,e,!0))),this.turnOnOption&&this.registerEventHandler(this.turnOnOption.on("click",this.handleMuteObjectClick.bind(this,e,!1))),e.isMuted?(this.turnOffOption.addClass("hidden"),this.turnOnOption.removeClass("hidden"),this.notification.addClass("muted")):(this.turnOnOption.addClass("hidden"),this.turnOffOption.removeClass("hidden")),this},headline:function(){},getTaggedPeople:function(t){for(var e=[],n=0;n<t.length;n++){for(var i=t[n],o={id:i.personTagged.id,name:i.personTagged.displayname,url:i.personTagged.profileURL},s=!1,a=0;a<e.length;a++)if(e[a].id===o.id){s=!0;break}s||e.push(o)}return e},getEventOwners:function(t){for(var e=[],n=0;n<t.length;n++){for(var i=t[n],o={id:i.owner.id,name:i.owner.displayname,url:i.owner.profileURL},s=!1,a=0;a<e.length;a++)if(e[a].id===o.id){s=!0;break}s||e.push(o)}return e},getEventGroups:function(t){for(var e=[],n=0;n<t.length;n++){for(var i=t[n],o={id:i.group.id,title:i.group.title,url:i.group.url,iconUrl:i.group.bestIconURL},s=!1,a=0;a<e.length;a++)if(e[a].id===o.id){s=!0;break}s||e.push(o)}return e},handleContextArrowClick:function(t){this.toggleContextMenu()},toggleContextMenu:function(){this.listItem.hasClass("expanded")?this.listItem.removeClass("expanded"):(this.notificationsList.all(".notification-list-item.expanded").each(function(t){t.removeClass("expanded")}),this.listItem.addClass("expanded"),this.ctxMenu.removeClass("fast-close"))},handleMuteObjectClick:function(t,e,n){var i=this,o={};o.object_type=t.type,o.object_id=t.id,o.event_type=t.eventType,o.mute_after=t.latestTimestamp,e?(i.turnOffOption.addClass("disabled"),this.notifModel.remoteUpdateMutedObjects(o,this.appContext).then(function(t){i.turnOffOption.addClass("hidden"),i.turnOffOption.removeClass("disabled"),i.turnOnOption.removeClass("hidden"),i.notification.addClass("muted"),i.toggleContextMenu()},function(t){i.turnOffOption.removeClass("disabled")})):(i.turnOnOption.addClass("disabled"),this.notifModel.remoteUpdateUnmutedObjects(o,this.appContext).then(function(t){i.turnOnOption.addClass("hidden"),i.turnOnOption.removeClass("disabled"),i.turnOffOption.removeClass("hidden"),i.notification.removeClass("muted"),i.listItem.hasClass("expanded")&&i.toggleContextMenu()},function(t){i.turnOnOption.removeClass("disabled")})),i.ctxMenu.addClass("fast-close")}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-notifications","hermes-template-notification-photo-comment","hermes-template-notification-group-invite","hermes-template-notification-added-to-gallery","hermes-template-notification-photo-fave","hermes-template-notification-photo-shell","hermes-template-notification-person-follow","hermes-template-notification-tag","hermes-template-notification-person","hermes-template-notification-mention","hermes-template-notification-photo-group-invite","hermes-template-notification-photo-extra-info","hermes-template-notification-photo-note","hermes-template-notification-photo-share","hermes-template-notification-group-discussion-reply","hermes-template-notification-gallery-comment","hermes-template-notification-friend-join","hermes-template-notification-group-topic-new","hermes-template-notification-flickrmail","hermes-template-notification-testimonial","hermes-template-notification-context-menu","hermes-template-notification"],langBundles:["common","relative-dates","notifications"]});YUI.add("hermes-lang-relative-dates",function(_,T){_.Intl.add("hermes/relative-dates","en-US",{SECOND_LONG:["1 second"],SECONDS_LONG:["${time}"," seconds"],MINUTE_LONG:["1 min"],MINUTES_LONG:["${time}"," mins"],HOUR_LONG:["1 hour"],HOURS_LONG:["${time}"," hours"],DAY_LONG:["1 day"],DAYS_LONG:["${time}"," days"],MONTH_LONG:["1 month"],MONTHS_LONG:["${time}"," months"],YEAR_LONG:["1 year"],YEARS_LONG:["${time}"," years"],SECOND_SHORT:["1s"],SECONDS_SHORT:["${time}","s"],MINUTE_SHORT:["1m"],MINUTES_SHORT:["${time}","m"],HOUR_SHORT:["1h"],HOURS_SHORT:["${time}","h"],DAY_SHORT:["1d"],DAYS_SHORT:["${time}","d"],MONTH_SHORT:["1mo"],MONTHS_SHORT:["${time}","mo"],YEAR_SHORT:["1y"],YEARS_SHORT:["${time}","y"],SECOND_LONG_FUTURE:["in 1 second"],SECONDS_LONG_FUTURE:["in ","${time}"," seconds"],MINUTE_LONG_FUTURE:["in 1 min"],MINUTES_LONG_FUTURE:["in ","${time}"," mins"],HOUR_LONG_FUTURE:["in 1 hour"],HOURS_LONG_FUTURE:["in ","${time}"," hours"],DAY_LONG_FUTURE:["in 1 day"],DAYS_LONG_FUTURE:["in ","${time}"," days"],MONTH_LONG_FUTURE:["in 1 month"],MONTHS_LONG_FUTURE:["in ","${time}"," months"],YEAR_LONG_FUTURE:["in 1 year"],YEARS_LONG_FUTURE:["in ","${time}"," years"],FUTURE_SHORT_FUTURE:["in ","${time}"],SECOND_SHORT_FUTURE:["in 1s"],SECONDS_SHORT_FUTURE:["in ","${time}","s"],MINUTE_SHORT_FUTURE:["in 1m"],MINUTES_SHORT_FUTURE:["in ","${time}","m"],HOUR_SHORT_FUTURE:["in 1h"],HOURS_SHORT_FUTURE:["in ","${time}","h"],DAY_SHORT_FUTURE:["in 1d"],DAYS_SHORT_FUTURE:["in ","${time}","d"],MONTH_SHORT_FUTURE:["in 1mo"],MONTHS_SHORT_FUTURE:["in ","${time}","mo"],YEAR_SHORT_FUTURE:["in 1y"],YEARS_SHORT_FUTURE:["in ","${time}","y"],SECOND_LONG_PAST:["1 second ago"],SECONDS_LONG_PAST:["${time}"," seconds ago"],MINUTE_LONG_PAST:["1 min ago"],MINUTES_LONG_PAST:["${time}"," mins ago"],HOUR_LONG_PAST:["1 hour ago"],HOURS_LONG_PAST:["${time}"," hours ago"],DAY_LONG_PAST:["1 day ago"],DAYS_LONG_PAST:["${time}"," days ago"],MONTH_LONG_PAST:["1 month ago"],MONTHS_LONG_PAST:["${time}"," months ago"],YEAR_LONG_PAST:["1 year ago"],YEARS_LONG_PAST:["${time}"," years ago"],SECOND_SHORT_PAST:["1s ago"],SECONDS_SHORT_PAST:["${time}","s ago"],MINUTE_SHORT_PAST:["1m ago"],MINUTES_SHORT_PAST:["${time}","m ago"],HOUR_SHORT_PAST:["1h ago"],HOURS_SHORT_PAST:["${time}","h ago"],DAY_SHORT_PAST:["1d ago"],DAYS_SHORT_PAST:["${time}","d ago"],MONTH_SHORT_PAST:["1mo ago"],MONTHS_SHORT_PAST:["${time}","mo ago"],YEAR_SHORT_PAST:["1y ago"],YEARS_SHORT_PAST:["${time}","y ago"],NO_DATE:["-"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-notifications",function(e,o){e.Intl.add("hermes/notifications","en-US",{NOTIF_PHOTO_FAVE:["<a href='","${ownerUrl}","'>","${owner}","</a> faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_FAVE_MULTI:[{type:"plural",valueName:"count",options:{one:["<a href='","${ownerUrl}","'>","${owner}","</a> and <a href='","${secondUrl}","'>","${secondOwner}","</a> faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:["<a href='","${ownerUrl}","'>","${owner}","</a> and ","${count}"," others faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_PERSON_FOLLOW:["<a href='","${ownerUrl}","'>","${owner}","</a> is now following you!"],NOTIF_PHOTO_COMMENT_YOURS:['<a href="',"${personUrl}",'">',"${personName}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_COMMENT_YOURS_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}","</a> and ","${count}"," others commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_PHOTO_COMMENT_OTHER:['<a href="',"${personUrl}",'">',"${personName}",'</a> commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_COMMENT_OTHER_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}","</a> and ","${count}",' others commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_MENTION:['<a href="',"${personUrl}",'">',"${personName}","</a> mentioned you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_MENTION_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," mentioned you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_GROUP_INVITE:["<a href='","${ownerUrl}","'>","${owner}","</a> invited you to add your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," to the group <a href='","${groupUrl}","'>","${groupName}","</a>."],NOTIF_PHOTO_GROUP_INVITE_MULTI:["You've been invited to add your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," to the ",{type:"plural",valueName:"count",options:{one:["groups <a href='","${groupUrl}","'>","${groupName}","</a> and <a href='","${secondGroupUrl}","'>","${secondGroupName}","</a>"],other:["group <a href='","${groupUrl}","'>","${groupName}","</a> and ","${count}"," other groups"]}},"."],NOTIF_GROUP_USER_INVITE:["You've been invited to join the group <a href=\"","${groupUrl}",'">',"${groupName}","</a>."],NOTIF_TAGS:['<a href="',"${personUrl}",'">',"${personName}","</a> tagged your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_TAGS_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," tagged your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_GALLERY:["Your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},' was added to the gallery <a href="',"${galleryUrl}",'">',"${galleryName}","</a>."],NOTIF_GALLERY_MULTI:["Your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," was added to the ",{type:"plural",valueName:"count",options:{one:['galleries <a href="',"${galleryUrl}",'">',"${galleryName}",'</a> and <a href="',"${secondGalleryUrl}",'">',"${secondGalleryName}","</a>"],other:['gallery <a href="',"${galleryUrl}",'">',"${galleryName}","</a> and ","${count}"," other galleries"]}},"."],NOTIF_ADD_PERSON:['<a href="',"${personUrl}",'">',"${personName}","</a> tagged people in your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_ADD_PEOPLE:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," tagged people in your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_ADD_ME:['<a href="',"${ownerUrl}",'">',"${ownerName}","</a> tagged you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES:['<a href="',"${personUrl}",'">',"${personName}","</a> left a note on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," left notes on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES_OTHER:['<a href="',"${personUrl}",'">',"${personName}",'</a> left a note on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."],NOTIF_NOTES_OTHER_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> left notes on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}",' others left notes on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."]}}],NOTIF_VIEW_RECENT_ACTIVITY:["View Recent Activity"],NOTIFICATIONS:["Notifications"],NOTIF_SHARE:['<a href="',"${personUrl}",'">',"${personName}","</a> shared a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," with you."],FLICKR_MAIL_COUNT_PAREN:["(","${count}",")"],FLICKR_GROUP_DISCUSSION_REPLY:['<a href="',"${personUrl}",'">',"${personName}",'</a> replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],FLICKR_GROUP_DISCUSSION_REPLY_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}},' replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_DISCUSSION_REPLY:['<a href="',"${personUrl}",'">',"${personName}",'</a> replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_DISCUSSION_REPLY_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}},' replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_ONBOARDING_TITLE:["NEW — Notification Center"],NOTIF_ONBOARDING_DESCRIPTION:["Here, you'll find notifications of your recent activity on Flickr. This includes easy access to <a href=\"/mail\">FlickrMail</a>. We think you'll enjoy what we've built so far."],NOTIF_GALLERY_COMMENT:['<a href="',"${personUrl}",'">',"${personName}",'</a> commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."],NOTIF_GALLERY_COMMENT_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}",' others commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."]}}],NOTIF_FRIEND_JOIN:['Your friend <a href="',"${personUrl}",'">',"${personName}","</a> joined Flickr!"],NOTIF_NEW_GROUP_DISCUSSION:['<a href="',"${personUrl}",'">',"${personName}",'</a> created the discussion <a href="',"${discussionUrl}",'">',"${discussionName}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_FLICKRMAIL:['<a href="',"${personUrl}",'">',"${personName}",'</a> sent you a message: <a href="',"${mailUrl}",'">“',"${mailTitle}","”</a>"],NOTIF_TURN_OFF_OBJECT:["Turn off notifications for this post"],NOTIF_TURN_ON_OBJECT:["Turn on notifications for this post"],NOTIF_HIDE_THIS:["Hide this notification"],NOTIF_NOTHING_HERE:["When you have new notifications, they’ll appear here."],NOTIF_OFF_FOR_POST:["Notifications for this post are off."],NOTIF_UNDO:["Undo"],NOTIF_TESTIMONIAL:['<a href="',"${personUrl}",'">',"${personName}",'</a> wrote you a <a href="',"${testimonialUrl}",'">testimonial</a>.']})},"@VERSION@",{requires:["intl"]});YUI.add("flickr-galleries-comments-addComment-creator",function(e,t){"use strict";e.namespace("ModelCreators")["flickr-galleries-comments-addComment"]={run:function(r,n){var o=this;return e.Promise.all([n.callAPI("flickr.galleries.comments.addComment",this._processParams(r)),n.getModelRegistry("person-models"),n.getModelRegistry("gallery-comment-models"),n.getModel("gallery-info-models",r.galleryId)]).then(function(e){return o._processResponse(e,r,n)},e.FetcherErrorLogger(t))},_processParams:function(e){return{gallery_id:e.galleryId,comment_text:e.commentText,user_id:e.authorId,extras:"full_response, expand_bbml"}},_processResponse:function(e,t,r){var n,o,m,a=e[0],s=(e[1],e[2]),l=e[3],c=a.comment;return c.secureComment&&(o="string"==typeof c.secureComment?c.secureComment:c.secureComment.content),o||(o=c.content||c.comment),c.rawComment&&(m="string"==typeof c.rawComment?c.rawComment:c.rawComment.content),m||(m=c.content||c.comment),r.getModel("person-models",t.authorId).then(function(e){return n=s.addOrUpdate({id:c.commentId,galleryId:c.galleryId,galleryOwnerId:c.galleryOwnerId,author:e,authorUsername:c.authorname,authorId:c.author,date:c.dateCreate,permalink:c.permalink,content:c.content,contentSecure:o,contentRaw:m}),l.getValue("comments").unshift(n),l.getValue("comments").totalItems++,n})}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("flickr-galleries-comments-deleteComment-deletor",function(e,r){"use strict";e.namespace("ModelDeletors")["flickr-galleries-comments-deleteComment"]={run:function(o,t){var l=this;return e.Promise.all([t.callAPI("flickr.galleries.comments.deleteComment",this._processParams(o)),t.getModel("gallery-info-models",o.galleryId)]).then(function(e){l._processResponse(e,o,t)},e.FetcherErrorLogger(r))},_processParams:function(e){return{comment_id:e.commentId,gallery_id:e.galleryId,owner_id:e.ownerId}},_processResponse:function(e,r,o){e[0];var t=e[1];t.getValue("comments").removeFromList(r.commentId),t.getValue("comments").totalItems--}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});